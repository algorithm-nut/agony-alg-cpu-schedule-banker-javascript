<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>common.js</title>
    <link rel="stylesheet" href="http://yui.yahooapis.com/3.9.1/build/cssgrids/cssgrids-min.css">
    <link rel="stylesheet" href="../assets/vendor/prettify/prettify-min.css">
    <link rel="stylesheet" href="../assets/css/main.css" id="site_styles">
    <link rel="icon" href="../assets/favicon.ico">
    <script src="http://yui.yahooapis.com/combo?3.9.1/build/yui/yui-min.js"></script>
</head>
<body class="yui3-skin-sam">

<div id="doc">
    <div id="hd" class="yui3-g header">
        <div class="yui3-u-3-4">
                <h1><img src="../assets/css/logo.png" title="" width="117" height="52"></h1>
        </div>
        <div class="yui3-u-1-4 version">
            <em>API Docs for: </em>
        </div>
    </div>
    <div id="bd" class="yui3-g">

        <div class="yui3-u-1-4">
            <div id="docs-sidebar" class="sidebar apidocs">
                <div id="api-list">
                    <h2 class="off-left">APIs</h2>
                    <div id="api-tabview" class="tabview">
                        <ul class="tabs">
                            <li><a href="#api-classes">Classes</a></li>
                            <li><a href="#api-modules">Modules</a></li>
                        </ul>
                
                        <div id="api-tabview-filter">
                            <input type="search" id="api-filter" placeholder="Type to filter APIs">
                        </div>
                
                        <div id="api-tabview-panel">
                            <ul id="api-classes" class="apis classes">
                                <li><a href="../classes/[banker-dom.js].html">[banker-dom.js]</a></li>
                                <li><a href="../classes/[banker.js].html">[banker.js]</a></li>
                                <li><a href="../classes/[common.js].html">[common.js]</a></li>
                                <li><a href="../classes/[cpu-dom.js].html">[cpu-dom.js]</a></li>
                                <li><a href="../classes/[cpu.js].html">[cpu.js]</a></li>
                            </ul>
                
                
                            <ul id="api-modules" class="apis modules">
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="yui3-u-3-4">
                <div id="api-options">
                    Show:
                    <label for="api-show-inherited">
                        <input type="checkbox" id="api-show-inherited" checked>
                        Inherited
                    </label>
            
                    <label for="api-show-protected">
                        <input type="checkbox" id="api-show-protected">
                        Protected
                    </label>
            
                    <label for="api-show-private">
                        <input type="checkbox" id="api-show-private">
                        Private
                    </label>
                    <label for="api-show-deprecated">
                        <input type="checkbox" id="api-show-deprecated">
                        Deprecated
                    </label>
            
                </div>
            
            <div class="apidocs">
                <div id="docs-main">
                    <div class="content">
<h1 class="file-heading">File: common.js</h1>

<div class="file">
    <pre class="code prettyprint linenums">
/**
 * author luo0412
 * date 2016-09-11
 * description 公共函数库，可复用
 * @class [common.js]
 * @constructor
 */

/**
 * @method [isArrAllTrue]
 * @description [判断一个数组的元素是否全为true]
 * @param  {[type]}  arr [description]
 * @return {Boolean}     [description]
 * @example
 *     console.log(isArrAllTrue([true, false, true])); // false
 *     console.log(isArrAllTrue([true, true, true]));  // true
 */
function isArrAllTrue(arr) {
    for(var i in arr) {
        if(arr[i] === false) {
            return false;
        }
    }
    return true;
}

/**
 * @method  [isArrAllZero ]
 * @description [判断一个数组的元素是否全为0]
 * @param  {[type]}  arr [description]
 * @return {Boolean}     [description]
 * @example
 *     console.log(isArrAllZero([0, 9, 0])); // false
 *     console.log(isArrAllZero([0, 0, 0])); // true
 */
function isArrAllZero(arr) {
    for(var i in arr) {
        if(arr[i] !== 0) {
            return false;
        }
    }
    return true;
}


/**
 * @method [getExecOrderStr]
 * @description [ 执行顺序数组转化成字符串]
 * @param  {[type]} arr [description]
 * @return {[type]}     [description]
 * @example
 *     console.log(getExecOrderStr([0, 2, 1, 3])); // p0-&gt;p2-&gt;p1-&gt;p3
 */
function getExecOrderStr(arr) {
    var a = [];
    a.push(arr[0]);
    for(var i=1,len=arr.length;i&lt;len; i++) {
        if(arr[i] !== a[a.length - 1]) {
            a.push(arr[i]);
        }
    }
    return &quot;p&quot; + a.join(&quot;-&gt;p&quot;);
}



/**
 * @method [getSubArr]
 * @description [ 数组作差得到的arr 例arr1 - arr2]
 * @param  {[type]} arr1 [description]
 * @param  {[type]} arr2 [description]
 * @return {[type]}      [description]
 * @example
 *     console.log(getSubArr([6, 4.2, 2], [4, 1, 6]));
 */
function getSubArr(arr1, arr2) {
    var a = [];
    for(var i in arr1) {
        a[i] = arr1[i] - arr2[i];
    }
    return a;
}

/**
 * @method [getSubArr2D]
 * @description [ 数组作差得到的arr2D 例arr1 - arr2]
 * @param  {[type]} arr1 [description]
 * @param  {[type]} arr2 [description]
 * @return {[type]}      [description]
 */
function getSubArr2D(arr1, arr2) {
    var a = [];
    var b = []; // 二维数组
    for(var i=0, len1=arr1.length;i&lt;len1; i++) {
        a = [];
        for(var j=0, len2=arr1[i].length;j&lt;len2; j++) {
            a[j] = arr1[i][j] - arr2[i][j];
        }
        b.push(a);
    }
    return b;
}


/**
 * @method [getDivArr]
 * @description [ 数组作商得到的arr 例arr1 / arr2]
 * @param  {[type]} arr1 [description]
 * @param  {[type]} arr2 [description]
 * @return {[type]}      [description]
 * @example
 *     console.log(getDivArr([6, 4, 2], [4, 1, 6]));
 */
function getDivArr(arr1, arr2) {
    var a = [];
    for(var i in arr1) {
        a[i] = parseFloat( (arr1[i] / arr2[i]).toFixed(3) ); // 数组存为str
    }
    return a;
}


/**
 * @method [getAvgValOfArr]
 * @description [获取数组的平均值]
 * @param  {[type]} arr [description]
 * @return {[float]}     [description]
 * @example
 *      console.log( &quot;getAvgValOfArr : &quot; + getAvgValOfArr([1, 5, 8]) );
 */
function getAvgValOfArr(arr) {
    var len = arr.length;
    var sum = 0;
    for(var i in arr) {
        sum += arr[i];
    }
    return sum / len;
}


/**
 * @method [getMinValOfArr]
 * @description [获取一维数组最小值]
 * @param  {[type]} arr [description]
 * @return {[type]}     [description]
 */
function getMinValOfArr(arr) {
    var min = arr[0];
    for(var i in arr) {
        if(arr[i] &lt; min) {
            min = arr[i];
        }
    }
    return min;
}


/**
 * @method [getMaxValOfArr]
 * @description [获取一维数组最大值]
 * @param  {[type]} arr [description]
 * @return {[type]}     [description]
 */
function getMaxValOfArr(arr) {
    var max = arr[0];
    for(var i in arr) {
        if(arr[i] &gt; max) {
            max = arr[i];
        }
    }
    return max;
}


/**
 * @method [arr2DParseFloat]
 * @description [二维数组全部元素转化成float类型]
 * @param  {[type]} arr [description]
 * @param  {[type]} arr [description]
 * @return {[type]}     [description]
 */
function arr2DParseFloat(arr) {
    var a = cloneArr2D(arr);
    for(var i=0, len1= arr.length; i&lt;len1; i++) {
        for(var j=0, len2=arr[0].length; j&lt;len2; j++) {
            a[i][j] = parseFloat(a[i][j]);
        }
    }
    return a;
}


/**
 * @method [arrParseFloat]
 * @description [一维数组全部元素转化成float类型]
 * @param  {[type]} arr [description]
 * @param  {[type]} arr [description]
 * @return {[type]}     [description]
 */
function arrParseFloat(arr) {
    var a = cloneArr(arr);
    for(var i=0, len1= arr.length; i&lt;len1; i++) {
        a[i] = parseFloat(a[i]);
    }
    return a;
}

/**
 * @method [arrParseInt]
 * @description [一维数组全部元素转化成int类型]
 * @param  {[type]} arr [description]
 * @param  {[type]} arr [description]
 * @return {[type]}     [description]
 */
function arrParseInt(arr) {
    var a = cloneArr(arr);
    for(var i=0, len1= arr.length; i&lt;len1; i++) {
        a[i] = parseInt(a[i]);
    }
    return a;
}



/**
 * @method [arr2DToFixedN]
 * @description [将二维数组各个固定小数点后位数]
 * @param  {[arr]} n  [元素都为number的二维数组]
 * @param  {[number]} n [int, 小数点后固定的位数]
 * @return {[arr]}   [str二维数组]
 * @example
 *     var a = [[&quot;1.233333&quot;, 2], [4,5], [5, 78, 9], [9, 0]];
 *     displayArr2D(arr2DToFixedN(arr2DParseFloat(a), 3));
 *     // output:
 *     // 1.233   2.000
 *     // 4.000   5.000
 *     // 5.000   78.000  9
 *     // 9.000   0.000
 * @example
 *     console.log(typeof arr2DParseFloat(a)[0][0]); // number
 *     console.log(typeof arr2DToFixedN(arr2DParseFloat(a), 3)[0][0]); // string
 */
function arr2DToFixedN(arr, n) {
    var a = cloneArr2D(arr);
    for(var i=0, len1= arr.length; i&lt;len1; i++) {
        for(var j=0, len2=arr[0].length; j&lt;len2; j++) {
            a[i][j] = a[i][j].toFixed(n);
        }
    }
    return a;
}

/**
 * @method [arrToFixedN]
 * @description [将一维数组各个固定小数点后位数]
 * @param  {[arr]} n  [元素都为number的二维数组]
 * @param  {[number]} n [int, 小数点后固定的位数]
 * @return {[arr]}   [str二维数组]
 */
function arrToFixedN(arr, n) {
    var a = cloneArr(arr);
    for(var i=0, len1= arr.length; i&lt;len1; i++) {
        a[i] = a[i].toFixed(n);
    }
    return a;
}


/**
 * @method [cloneArr]
 * @description [复制一维数组]
 * @param  {[type]} arr [description]
 * @return {[type]}     [description]
 */
function cloneArr(arr) {
    var a = [];
    for(var i in arr) {
        a.push(arr[i]);
    }
    return a;
}

/**
 * @method [cloneArr2D]
 * @description [复制二维数组]
 * @param  {[type]} arr [description]
 * @return {[type]}     [description]
 */
function cloneArr2D(arr) {
    var a = []; // 二维数组
    var b = [];
    for(var i=0,len1=arr.length; i&lt;len1; i++) {
        b = [];
         for(var j=0,len2=arr[i].length; j&lt;len2; j++) {
            b.push(arr[i][j]);
         }
         a.push(b); // 二维数组拷贝分两步
    }
    return a;
}

/**
 * @method [displayArr]
 * @description 打印一维数组,测试用
 * @param  {[type]} arr [description]
 * @return {[type]}     [description]
 */
function displayArr(arr) {
    var str = &quot;&quot;;
    for(var i in arr) {
        str +=  &quot;\t&quot; + arr[i];
    }
    console.log(str + &quot;\n&quot;);
}

/**
 * @method [displayArr2D]
 * @description 打印二维数组,测试用
 * @param  {[type]} arr [description]
 * @return {[type]}     [description]
 */
function displayArr2D(arr) {
    var str = &quot;&quot;;
    for(var i=0,len1=arr.length; i&lt;len1; i++) {
        str = &quot;&quot;;
        for(var j=0,len2=arr[i].length; j&lt;len2; j++) {
            str += &quot;\t&quot; + arr[i][j];
        }
        console.log(str);
    }
    console.log();
}

/**
 * @method [getReciprocalArr]
 * @description [将一维数组各元素取倒数后得到的数组]
 * @param  {[type]} arr [description]
 * @return {[type]}     [description]
 * @example
 *     var arr = getReciprocalArr([1,2,3]);
 *     displayArr( arr );
 *     arr = arrToFixedN( arr, 3 );
 *     displayArr( arr);
 */
function getReciprocalArr(arr) {
    var a = [];
    for(var i in arr) {
        a[i] = 1 / arr[i];
    }
    return a;
}


/**
 * @method [getNumFloorOfArr]
 * @description [找出数组中比num大的最小元素]
 * @param  {[type]} arr [description]
 * @param  {[type]} num [description]
 * @return {[type]}     [description]
 */
function getFloorNumOfArr(arr, num) {
    var a = [];

    // 找出所有比num大的元素加入数组a
    for(var i in arr) {
        if(arr[i] &gt; num) {
            a.push(arr[i]);
        }
    }

    // 如arr不存在大于等于num的数，则返回false
    if(a.length === 0) {
        return false;
    } else {
       return getMinValOfArr(a);
    }
}


/**
 * @method [getRandIntBetweenAB]
 * @description [ 获取[A,B]的随机整数 ]
 * @param  {[type]} A [description]
 * @param  {[type]} B [description]
 * @return {[type]}   [description]
 * @example
 *     console.log(getRandIntBetweenAB(2, 10));
 */
function getRandIntBetweenAB(A, B) {
    return parseInt(Math.random()*(B-A)) + A;
}

/**
 * @method [getRandArr2D]
 * @description [ 生成二维数组arr[x][y] ]
 * @param  {[type]} x [description]
 * @param  {[type]} y [description]
 * @return {[type]}   [description]
 */
function getRandArr2D(x, y) {
    var a = [];
    var b = []; // 二维数组
    for(var i=0; i&lt;x; i++) {
        a = [];
        for(var j=0; j&lt;y; j++) {
            a.push(getRandIntBetweenAB());
        }
        b.push(a);
    }
    return b;
}


// function Import()
// {
//     for( var i=0; i&lt;arguments.length; i++ )
//     {
//         var file = arguments;
//         if ( file.match(/\\.js$/i))
//             document.write(&#x27;&lt;script type=\\&quot;text/javascript\\&quot; src=\\&quot;&#x27; + file + &#x27;\\&quot;&gt;&lt;/sc&#x27; + &#x27;ript&gt;&#x27;);
//         else
//             document.write(&#x27;&lt;style type=\\&quot;text/css\\&quot;&gt;@import \\&quot;&#x27; + file + &#x27;\\&quot; ;&lt;/style&gt;&#x27;);
//     }
// };


/**
 * @method [getIndexOfAscendSortArr]
 * @description [值排序后输出值排序的下标]
 * @param  {[type]} arr [description]
 * @return {[type]}     [description]
 * @example
 *     console.log(getIndexOfAscendSortArr([2, 1, 3, 4])); // [ 1, 0, 2, 3 ]
 */
function getIndexOfAscendSortArr(arr) {
    var clonedArr = cloneArr(arr); // 克隆的值数组
    var len = arr.length;
    var indexArr = []; // 下标数组
    var tmpVal = 0;

    // 初始化下标数组
    for(var i=0; i&lt;len; i++) {
        indexArr.push(i);
    }

    // 冒泡排序
    for(i=0; i&lt;len-1; i++) {
        for(var j=0; j&lt;len-1-i; j++) {
            if(clonedArr[j] &gt; clonedArr[j+1]) {
                // 交换值
                tmpVal = clonedArr[j];
                clonedArr[j] = clonedArr[j+1];
                clonedArr[j+1] = tmpVal;

                // 同步交换下标
                tmpVal = indexArr[j];
                indexArr[j] = indexArr[j+1];
                indexArr[j+1] = tmpVal;
            }
        }
    }

    return indexArr;
}
    </pre>
</div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<script src="../assets/vendor/prettify/prettify-min.js"></script>
<script>prettyPrint();</script>
<script src="../assets/js/yui-prettify.js"></script>
<script src="../assets/../api.js"></script>
<script src="../assets/js/api-filter.js"></script>
<script src="../assets/js/api-list.js"></script>
<script src="../assets/js/api-search.js"></script>
<script src="../assets/js/apidocs.js"></script>
</body>
</html>
